<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Multi-Customer Record Calculation</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="mainContainer">
    <marquee direction="right" behavior="scroll" scrollamount="10" width="100%" class="mainHeading">
      Sanjay Kharid Bikri Kendra
    </marquee>
    
    <!-- Customer Selection Section -->
    <div class="customer-section">
      <div class="customer-header">
        <h2>ðŸ“‹ Customers</h2>
        <button onclick="showAddCustomerModal()" class="add-customer-btn">âž• Add Customer</button>
      </div>
      <div id="customerList" class="customer-list">
      </div>
      <div id="currentCustomerName" class="current-customer">
        Select a customer to begin
      </div>
    </div>

    <div class="container">
      <!-- Main Calculator -->
      <div class="calculator">
        <h2>Product Quantity Calculator</h2>
  
        <div class="input-row">
          <input type="number" id="quantityInput" placeholder="Enter quantity (kg)" disabled />
          <button onclick="addQuantity()" id="addBtn" disabled>Add</button>
        </div>
  
        <div class="input-row">
          <label for="packSize">Select Pack:</label>
          <select id="packSize" onchange="onPackSizeChange()" disabled>
            <option value="40">40 kg pack</option>
            <option value="100">100 kg pack</option>
          </select>
        </div>
  
        <div class="input-row">
          <input type="number" id="totalPackPrice" placeholder="Enter total pack price (Rs)" oninput="onPackPriceChange()" disabled />
        </div>
  
        <div class="input-row controls-row">
          <button onclick="clearAll()" class="clear-btn" disabled id="clearBtn">Clear</button>
          <button onclick="showChecklist()" class="checklist-btn" disabled id="checklistBtn">Checklist</button>
        </div>
  
        <div class="input-row controls-row">
          <button onclick="toggleDarkMode()" class="dark-btn">Toggle Dark</button>
          <button onclick="exportCSV()" class="export-btn" disabled id="exportBtn">Export CSV</button>
          <button onclick="printChecklist()" class="print-btn" disabled id="printBtn">Print</button>
          <button onclick="showGraph()" class="graph-btn" disabled id="graphBtn">Show Graph</button>
        </div>
  
        <div class="output">
          <p id="totalQty">Total Quantity: 0 kg</p>
          <p id="pricePerKg">Price per kg: Rs 0</p>
          <p id="totalCost">Total Cost: Rs 0</p>
        </div>
      </div>
  
      <!-- Price List Box -->
      <div class="price-box">
        <h2>Saved Pack Prices</h2>
        <div class="input-row">
          <input type="text" id="priceName" placeholder="Pack name" />
          <input type="number" id="priceValue" placeholder="Price (Rs)" />
          <button onclick="addPrice()" class="addButton" id="addPriceBtn">Add</button>
        </div>
        <ul id="priceList"></ul>
      </div>
    </div>
  
    <!-- Add Customer Modal -->
    <div id="addCustomerModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeAddCustomerModal()">&times;</span>
        <h3>Add New Customer</h3>
        <div class="input-row">
          <input type="text" id="newCustomerName" placeholder="Enter customer name" />
        </div>
        <div class="input-row">
          <input type="tel" id="newCustomerPhone" placeholder="Enter text(optional)" />
        </div>
        <button onclick="addCustomer()" class="addButton" style="width: 100%;">Create Customer</button>
      </div>
    </div>

    <!-- Modal for Quantity Checklist -->
    <div id="checklistModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeChecklist()">&times;</span>
        <h3 id="checklistCustomerName">Quantity Checklist</h3>
        <ol id="checklistItems"></ol>
        <div class="checklist-summary">
          <p id="checklistTotalQty">Total Quantity: 0 kg</p>
          <p id="checklistTotalAmount">Total Amount: Rs 0</p>
        </div>
      </div>
    </div>
  
    <!-- Graph Modal -->
    <div id="graphModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeGraph()">&times;</span>
        <h3>Quantities Graph</h3>
        <canvas id="quantChart"></canvas>
      </div>
    </div>
  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <script src="script.js"></script>
</body>
</html>